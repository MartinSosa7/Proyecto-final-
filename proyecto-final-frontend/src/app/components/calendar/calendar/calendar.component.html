<div class="container-fluid">

    <button type="button" class="ov-btn-grow-skew" (click)="login()">01 login</button>
    <button type="button" class="ov-btn-grow-skew" (click)="token()">02 Token</button>
    <button type="button" class="ov-btn-grow-skew" (click)="verEventos()">03 Eventos</button>
    
    <form class="form" #calendarForm="ngForm">
        <div class="card">
            <div class="row" >
                <label for="my-input" class="col-sm-2 col-form-label" >Titulo del Evento: </label>
                <div class="col-sm-10" >
                    <input id="sumary" class="form-control" type="text"
                    [(ngModel)]="event.summary" name="sumary"  required #sumary="ngModel">    
                </div>

                <div *ngIf="sumary.invalid && (sumary.dirty || sumary.touched)" class="alert alert-danger">
                    <div *ngIf="sumary.errors?.['required']">
                      El campo titulo es requerido
                    </div>
                </div>
            </div>
           
            <div class="row" >
                <label for="my-input" class="col-sm-2 col-form-label" >Descripcion: </label>
                <div class="col-sm-10" >
                    <input id="description" class="form-control" type="text"
                    [(ngModel)]="event.description" name="description"  required #description="ngModel">   
                </div>

                <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
                    <div *ngIf="description.errors?.['required']">
                      El campo Descripcion es requerido
                    </div>
                </div>
            </div>

            <div class="row" >
                <label for="my-input" class="col-sm-2 col-form-label">Fecha desde: </label>
                <div class="col-sm-10" >
                    <input id="from" class="form-control" type="datetime-local"
                    [(ngModel)]="fromDate" name="from" required #from="ngModel">  
                </div>

                <div *ngIf="from.invalid && (from.dirty || from.touched)" class="alert alert-danger">
                    <div *ngIf="from.errors?.['required']">
                      El campo es requerido
                    </div>
                </div>
            </div>

            <div class="row" >
                <label for="my-input"class="col-sm-2 col-form-label">Fecha hasta: </label>
                <div class="col-sm-10" >
                    <input id="to" class="form-control" type="datetime-local"
                    [(ngModel)]="toDate" name="to" required #to="ngModel">
                </div>

                <div *ngIf="to.invalid && (to.dirty || to.touched)" class="alert alert-danger">
                    <div *ngIf="to.errors?.['required']">
                      El campo es requerido
                    </div>
                </div>
            </div>
       
    
           
        </div>
        <button [disabled]="!calendarForm.form.valid" type="button" class="ov-btn-grow-skew" (click)="crearEvento()">04 Crear Evento</button>
        <button type="button" class="ov-btn-grow-skew" (click)="logout()">05 logout</button>
    </form>
    
    
    
    <div class="row" style="margin: 10px;">
        <div class="col-md-6">
            <p style="text-align: center;">
                <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23c4f897&ctz=America%2FArgentina%2FJujuy&showTitle=1&title=Calendario%20Escuela%20General%20Savio%20N%C2%B0119&mode=MONTH&showCalendars=1&showTabs=1&showPrint=1&src=ZXNjdWVsYWdlbmVyYWxzYXZpbzExOUBnbWFpbC5jb20&src=NTg1YTVmZTFkODEzMTZhZDZjYzY4ODgwYjFlODhmYmExYjAzOGUxMTY3YTg3YjgzMGMyNGIzODEzNGQwYjA1MEBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%23039BE5&color=%23F6BF26" style="border:solid 1px rgb(122, 255, 109)" width="750" height="600" frameborder="0" scrolling="no"></iframe>
            </p>
        </div>
        <div class="col-md-6">
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" 
                        aria-controls="collapseOne" (click)="getEventos()">
                        Ver los Eventos del Calendario
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <div class="row mt-3 p-5 bg-white">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover table-bordered">
                                    <thead class="table-primary titulo p-5">
                                      <tr class="text-center">
                                        <th scope="col" class="text-center">Motivo</th>
                                        <th scope="col" class="text-center">Descripcion</th>
                                        <th scope="col" class="text-center">El recordatorio Inicia</th>
                                        <th scope="col" class="text-center">El recordatorio Finaliza</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr *ngFor="let r of resultados">
                                        <td>{{r.summary}}</td>
                                        <td>{{r.description}}</td>
                                        <td>{{r.start.dateTime | date:"medium" }}</td>
                                        <td>{{r.end.dateTime | date:"medium" }}</td>
                                      </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
            
              </div>
        </div>

    </div>


</div>

